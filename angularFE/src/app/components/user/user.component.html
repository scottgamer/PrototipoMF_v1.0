<p>
  TODO User
</p>

<div class="user">
  <div class="user-header">
    Tu información personal
  </div>
  <div class="row">
    <div class="col-md-4">
      <div class="user-left">
        <div class="userprofile-image">
          <i class="fa fa-user fa-5x"></i>
        </div>
        <div class="user-actions">

          <ul class="nav flex-column">
            <li class="nav-item">
              Usuario123
              <hr>
            </li>
            <li class="nav-item">
              <a class="nav-link" (click)='openModal(templateApps)' [routerLink]="">Aplicaciones descargadas</a>
              <hr>
            </li>
            <li class="nav-item">
              <a class="nav-link" (click)='openModal(templateQuestions)' [routerLink]="">Preguntas realizadas</a>
              <hr>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Eventos guardados</a>
            </li>
          </ul>

          <!-- Ng Templates -->
          <!-- Applications history -->
          <ng-template #templateApps>
            <div class="modal-header">
              <h4 class="modal-title pull-left">Aplicaciones descargadas</h4>
              <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="modal-row" *ngFor="let app of apps">
                <div class="user-apps-history-left">
                  <img class="user-apps-img" src="assets/images/logos/{{app.img}}" alt="">
                </div>
                <div class="user-apps-history-right">
                  Nombre: {{app.name}}
                  <br> Categoría: {{app.category}}
                  <br> Valoración: {{app.starList}} {{rating}}
                  <br>
                  <a href="/application">
                    <button role="button" class="btn btn-success center-block" tooltip='Ver aplicación'> Ver </button>
                  </a>
                </div>
              </div>
            </div>
          </ng-template>

          <!-- Questions made -->
          <ng-template #templateQuestions>
            <div class="modal-header">
              <h4 class="modal-title pull-left">Preguntas realizadas</h4>
              <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="modal-row" *ngFor="let question of questions">
                <div class="user-questions-responses">
                  <strong>Respuestas:</strong>
                  <br> 1
                </div>
                <div class="user-questions-question">
                  <div class="user-question-header">
                    <strong>Pregunta: </strong>
                  </div>
                  <div class="user-question-body">
                    {{question.body}}
                  </div>
                  <button role="button" class="btn btn-success center-block" tooltip='Ver pregunta' (click)='openModal(templateResponses)'>
                    Ver </button>
                </div>
              </div>
            </div>
          </ng-template>

          <!-- Responses per Question -->
          <ng-template #templateResponses>
            <div class="modal-header">
              <h4 class="modal-title pull-left">Respuestas obtenidas</h4>
              <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="modal-row" *ngFor="let question of questions">
                <div class="response-container">
                  <div class="response-question-header">
                    <strong>Pregunta: </strong>
                  </div>
                  <div class="response-question-body">
                    {{question.body}}
                  </div>
                  <div class="response-responses-header">
                    <strong>Todas las respuestas: {{question.responseCount}}</strong>
                  </div>
                  <div *ngFor="let question of questions">
                    <div class="response-responses" *ngFor="let response of question.responses">
                      <div class="response-responses-id">
                        <strong>Respuesta {{response.responseId}}</strong> 
                      </div>
                      <div class="response-responses-body">
                        {{response.responseBody}}
                      </div>
                      <div class="response-responses-user pull-right">
                        Respondió: Usuario123
                        <br> Fecha: {{response.date}}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>


        </div>
      </div>
    </div>
    <div class="col-md-8">
      <div class="user-right">
        <div class="user-info">
          <label for="">Nombre:</label> {{fullName}}
          <span>
            <i role="button" tooltip="Editar" class="fa fa-pencil" aria-hidden="true" (click)="editInfo(template)"></i>
          </span>

          <!-- Using modal message -->

          <ng-template #template>
            <div class="modal-body text-center">
              <p>Editar campo</p>
              <form action="">
                <div class="form-group">
                  <input type="text" class="form-control" placeholder="Ingrese" [(ngModel)]="fullName" name="fullName">
                </div>
              </form>
              <button type="button" class="btn btn-default" (click)="confirm()">Guardar</button>
            </div>
          </ng-template>

        </div>
        <div class="user-info">
          <label for="">Correo:</label> {{email}}
          <span>
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </span>
        </div>
        <div class="user-info">
          <label for="">Contrasena:</label> {{password}}
          <span>
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </span>
        </div>
        <div class="user-info">
          <label for="">Cumpleanios:</label> {{birthdayDate}}
          <span>
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </span>
        </div>
        <div class="user-info">
          <label for="">Género:</label> {{genre}}
          <span>
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </span>
        </div>
        <div class="user-info">
          <label for="">Nacionalidad:</label> {{nationality}}
          <span>
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </span>
        </div>
        <div class="user-info">
          <label for="">Biografía:</label>
          <span>
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </span>
          <br> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Adipisci molestias iure eum totam necessitatibus modi,
          reiciendis voluptate perspiciatis qui vero, magnam autem suscipit eos, omnis quis. Distinctio aperiam perspiciatis
          temporibus!
        </div>

      </div>

    </div>
  </div>
</div>